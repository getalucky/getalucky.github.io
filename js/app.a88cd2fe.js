(function(t){function e(e){for(var a,i,r=e[0],o=e[1],u=e[2],l=0,h=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(h.length)h.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,i=1;i<n.length;i++){var r=n[i];0!==s[r]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s={app:0},c=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-0b21be85":"465bc524","chunk-119bac62":"21310e59","chunk-2efd5cfc":"bf203309","chunk-305da825":"45c42949","chunk-4e4c31ad":"358de802","chunk-65e07454":"b5423a25","chunk-1b8e7a0a":"cb785332","chunk-20095699":"d074759c","chunk-2cfa086c":"7b09cee1","chunk-3e07a772":"9e127413","chunk-57473afc":"8a174aa1","chunk-9ad5a7cc":"ed0a4065","chunk-c53cbf3a":"d8c6ce78"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-0b21be85":1,"chunk-119bac62":1,"chunk-2efd5cfc":1,"chunk-305da825":1,"chunk-4e4c31ad":1,"chunk-1b8e7a0a":1,"chunk-20095699":1,"chunk-2cfa086c":1,"chunk-3e07a772":1,"chunk-57473afc":1,"chunk-9ad5a7cc":1,"chunk-c53cbf3a":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-0b21be85":"99b8702b","chunk-119bac62":"b2e5c264","chunk-2efd5cfc":"60ef1ffb","chunk-305da825":"9f1085c8","chunk-4e4c31ad":"2e83374b","chunk-65e07454":"31d6cfe0","chunk-1b8e7a0a":"0b33b707","chunk-20095699":"a6a9586b","chunk-2cfa086c":"6152934d","chunk-3e07a772":"26244c12","chunk-57473afc":"7ed60867","chunk-9ad5a7cc":"cc80d334","chunk-c53cbf3a":"6e1e1c80"}[t]+".css",s=o.p+a,c=document.getElementsByTagName("link"),r=0;r<c.length;r++){var u=c[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===s))return e()}var h=document.getElementsByTagName("style");for(r=0;r<h.length;r++){u=h[r],l=u.getAttribute("data-href");if(l===a||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||s,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete i[t],d.parentNode.removeChild(d),n(c)},d.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){i[t]=0})));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(t);var h=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",h.name="ChunkLoadError",h.type=a,h.request=i,n[1](h)}s[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01c9":function(t,e,n){"use strict";var a=n("8ec9"),i=n.n(a);i.a},2395:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("d3b7"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{include:"index,search"}},[n("router-view")],1)],1)},s=[],c=(n("7c55"),n("2877")),r={},o=Object(c["a"])(r,i,s,!1,null,null,null),u=o.exports,l=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w"},[n("header",{staticClass:"header"},[n("i",{staticClass:"iconfont iconnew"}),n("span",{on:{click:function(e){return t.$router.push("/search")}}},[n("i",{staticClass:"iconfont icon-right serach"},[t._v("搜索新闻")])]),n("router-link",{attrs:{to:"/personal"}},[n("i",{staticClass:"iconfont icon-yonghu"})])],1),n("van-tabs",{attrs:{sticky:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[t._l(t.tabs,(function(t,e){return n("van-tab",{key:e,attrs:{title:t.name}})})),n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("newslist",{attrs:{userCollect:t.list}})],1)],2)],1)},d=[],f=(n("99af"),n("4de4"),n("caad"),n("d81d"),n("b0c0"),n("2909")),p=n("dc4d"),b={name:"index",data:function(){return{tabList:[],tabs:[],active:0,loading:!1,finished:!1,list:[]}},watch:{active:function(){if(this.active!=this.tabs.length-1)if(this.loading=this.tabList[this.active].loading,this.finished=this.tabList[this.active].finished,0==this.tabList[this.active].postList.length){var t={url:"/post",params:{pageIndex:this.tabList[this.active].pageIndex,pageSize:5,category:this.tabList[this.active].id}};if(0==this.tabList[this.active].id){var e=JSON.parse(localStorage.getItem("userInfo"));t.headers={Authorization:e.token}}this.getPosts(t)}else this.list=this.tabList[this.active].postList;else this.$router.push("/columnsorting")}},components:{newslist:p["a"]},methods:{onLoad:function(){var t=this;if(!this.finished){this.tabList[this.active].pageIndex++;var e={url:"/post",params:{pageIndex:this.tabList[this.active].pageIndex,pageSize:5,category:this.tabList[this.active].id}};if(0==this.tabList[this.active].id){var n=JSON.parse(localStorage.getItem("userInfo"));e.headers={Authorization:n.token}}this.$axios(e).then((function(e){var n=e.data,a=n.data,i=n.total;t.tabList[t.active].postList=[].concat(Object(f["a"])(t.tabList[t.active].postList),Object(f["a"])(a)),t.list=t.tabList[t.active].postList,t.tabList[t.active].loading=!1,t.loading=t.tabList[t.active].loading,t.tabList[t.active].postList.length==i&&(t.tabList[t.active].finished=!0),t.finished=t.tabList[t.active].finished}))}},getCategory:function(t){var e=this;this.$axios(t).then((function(t){var n=t.data.data;e.tabList=n,e.setAtt(),e.tabList.push({name:">"}),localStorage.setItem("category",JSON.stringify(e.tabList)),e.getTab()}))},getPosts:function(t){var e=this;this.$axios(t).then((function(t){e.tabList[e.active].postList=t.data.data,e.list=e.tabList[e.active].postList}))},setAtt:function(){this.tabList=this.tabList.map((function(t){return t.postList=[],t.loading=!1,t.finished=!1,t.pageIndex=1,t.scrollTop=0,t}))},getTab:function(){this.tabs=this.tabList.filter((function(t){if(1==t.is_top||">"==t.name)return t}))}},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("category")),n=JSON.parse(localStorage.getItem("userInfo")),a={url:"/category"};if(e){("999"==e[0].id&&n||"0"==e[0].id&&!n)&&(console.log(111),n&&(a.headers={Authorization:n.token}),this.getCategory(a),setTimeout((function(){var e={url:"/post",params:{pageSize:5,category:t.tabList[t.active].id}};n&&(e.headers={Authorization:n.token}),t.getPosts(e)}),20)),this.tabList=e,this.getTab();var i={url:"/post",params:{pageSize:5,category:this.tabList[this.active].id}};n&&(i.headers={Authorization:n.token}),this.getPosts(i)}else{var s={url:"/post",params:{pageSize:5,category:999}};this.getCategory(a),this.getPosts(s)}},activated:function(){var t=this,e=JSON.parse(localStorage.getItem("category")),n=JSON.parse(localStorage.getItem("userInfo")),a={url:"/category"};if(e){("999"==e[0].id&&n||"0"==e[0].id&&!n)&&(n&&(a.headers={Authorization:n.token}),this.getCategory(a),setTimeout((function(){var e={url:"/post",params:{pageSize:5,category:t.tabList[t.active].id}};n&&(e.headers={Authorization:n.token}),t.getPosts(e)}),50)),this.tabList=e,this.getTab();var i={url:"/post",params:{pageSize:5,category:this.tabList[this.active].id}};n&&(i.headers={Authorization:n.token}),this.getPosts(i)}},beforeRouteEnter:function(t,e,n){var a=["/personal","/columnsorting"];n((function(t){a.includes(e.path)&&setTimeout((function(){t.active=0}),100)}))}},v=b,g=(n("96f1"),Object(c["a"])(v,h,d,!1,null,"66fcb572",null)),m=g.exports;a["a"].use(l["a"]);var k,y=[{path:"/",component:m},{path:"/login",component:function(){return n.e("chunk-0b21be85").then(n.bind(null,"a55b"))}},{path:"/register",component:function(){return n.e("chunk-4e4c31ad").then(n.bind(null,"73cf"))}},{path:"/personal",component:function(){return Promise.all([n.e("chunk-65e07454"),n.e("chunk-20095699")]).then(n.bind(null,"90ab"))},meta:{intercept:!0}},{path:"/editprofile",component:function(){return n.e("chunk-305da825").then(n.bind(null,"fb5e"))},meta:{intercept:!0}},{path:"/follow",component:function(){return Promise.all([n.e("chunk-65e07454"),n.e("chunk-2cfa086c")]).then(n.bind(null,"99b5"))},meta:{intercept:!0}},{path:"/comments",component:function(){return Promise.all([n.e("chunk-65e07454"),n.e("chunk-1b8e7a0a")]).then(n.bind(null,"0bef"))},meta:{intercept:!0}},{path:"/collect",component:function(){return n.e("chunk-119bac62").then(n.bind(null,"0c03"))},meta:{intercept:!0}},{path:"/columnsorting",component:function(){return n.e("chunk-9ad5a7cc").then(n.bind(null,"9741"))}},{path:"/search",component:function(){return n.e("chunk-2efd5cfc").then(n.bind(null,"2d3b"))}},{path:"/news/:id",component:function(){return Promise.all([n.e("chunk-65e07454"),n.e("chunk-57473afc")]).then(n.bind(null,"a2f9"))}},{path:"/videoNews/:id",component:function(){return n.e("chunk-c53cbf3a").then(n.bind(null,"2b5a"))}},{path:"/returncard/:id",component:function(){return Promise.all([n.e("chunk-65e07454"),n.e("chunk-3e07a772")]).then(n.bind(null,"54f2"))}}],L=new l["a"]({mode:"history",base:"/",routes:y}),_=L,S=n("b970"),w=(n("157a"),n("bc3a")),x=n.n(w),C=n("d399"),O=n("8f80"),P=n("2241"),I=n("565f"),j=n("ab2c");x.a.defaults.baseURL="http://hmtoutiao-api.atlansic.com",a["a"].prototype.$axios=x.a,a["a"].use(S["a"]),a["a"].use(C["a"]),a["a"].use(O["a"]),a["a"].use(P["a"]),a["a"].use(I["a"]),a["a"].use(j["a"]),x.a.interceptors.response.use((function(t){return t}),(function(t){var e=t.response.data;return 400===e.statusCode?C["a"].fail(e.message):403===e.statusCode&&(C["a"].fail(e.message),k.$router.push({path:"/login",query:{return_url:k.$route.path}})),Promise.reject(t)})),_.beforeEach((function(t,e,n){if(t.meta.intercept){var a=JSON.parse(localStorage.getItem("userInfo"))||[];0!=a.length?n():n("/login")}else n()})),a["a"].config.productionTip=!1,k=new a["a"]({router:_,render:function(t){return t(u)}}).$mount("#app")},"7c55":function(t,e,n){"use strict";var a=n("2395"),i=n.n(a);i.a},"8ec9":function(t,e,n){},"96f1":function(t,e,n){"use strict";var a=n("be54"),i=n.n(a);i.a},be54:function(t,e,n){},dc4d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.userCollect,(function(e,a){return n("div",{key:a},[e.cover.length>0&&e.cover.length<3&&1==e.type?n("div",{staticClass:"colectList1"},[n("router-link",{attrs:{to:"/news/"+e.id}},[n("div",[n("h3",[t._v(t._s(e.title))]),n("p",[n("span",[t._v(t._s(e.user.nickname))]),n("span",[t._v(t._s(e.comment_length)+"跟帖")])])]),n("img",{attrs:{src:t.$axios.defaults.baseURL+e.cover[0].url,alt:""}})])],1):e.cover.length>=3&&1==e.type?n("div",{staticClass:"colectList2"},[n("router-link",{attrs:{to:"/news/"+e.id}},[n("h3",[t._v(t._s(e.title))]),n("div",t._l(e.cover,(function(e,a){return n("img",{key:a,attrs:{src:t.$axios.defaults.baseURL+e.url,alt:""}})})),0),n("p",[n("span",[t._v(t._s(e.user.nickname))]),n("span",[t._v(t._s(e.comment_length)+"跟帖")])])])],1):2==e.type?n("div",{staticClass:"colectList3"},[n("router-link",{attrs:{to:"/videoNews/"+e.id}},[n("h3",[t._v(t._s(e.title))]),n("div",{staticClass:"voide"},[n("img",{attrs:{src:t.$axios.defaults.baseURL+e.cover[0].url,alt:""}}),n("span",{staticClass:"iconfont icon-icon_play"})]),n("p",[n("span",[t._v(t._s(e.user.nickname))]),n("span",[t._v(t._s(e.comment_length)+"跟帖")])])])],1):t._e()])})),0)},i=[],s={props:["userCollect"],mounted:function(){}},c=s,r=(n("01c9"),n("2877")),o=Object(r["a"])(c,a,i,!1,null,"78ad0fbc",null);e["a"]=o.exports}});
//# sourceMappingURL=app.a88cd2fe.js.map