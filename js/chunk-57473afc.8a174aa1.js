(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57473afc"],{"14c3":function(t,n,e){var a=e("c6b6"),s=e("9263");t.exports=function(t,n){var e=t.exec;if("function"===typeof e){var i=e.call(t,n);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,n)}},2410:function(t,n,e){"use strict";var a=e("42d1"),s=e.n(a);s.a},"2f3e":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"reply"},[e("div",{staticClass:"input",on:{click:function(n){return t.$router.push("/returncard/"+t.news.id)}}},[t._v("写跟帖")]),e("div",[e("i",{staticClass:"iconfont icon-xinxi"},[e("span",[t._v(t._s(t.news.comment_length))])]),e("i",{staticClass:"iconfont icon-shoucang",class:t.star?"isstar":"",on:{click:t.starOperation}}),e("i",{staticClass:"iconfont icon-fenxiang"})])]),e("div",{staticClass:"floor"})])},s=[],i={data:function(){return{star:""}},props:["newsId","news","isstar"],methods:{starOperation:function(){var t=this,n=JSON.parse(localStorage.getItem("userInfo"))||"",e=n.token;this.$axios({url:"/post_star/"+this.newsId,headers:{Authorization:e}}).then((function(n){t.$toast(n.data.message),t.star=!t.star}))}},watch:{isstar:function(){this.star=this.isstar}}},r=i,o=(e("7467"),e("2877")),c=Object(o["a"])(r,a,s,!1,null,"39087c01",null);n["a"]=c.exports},"42d1":function(t,n,e){},5319:function(t,n,e){"use strict";var a=e("d784"),s=e("825a"),i=e("7b0b"),r=e("50c4"),o=e("a691"),c=e("1d80"),l=e("8aa5"),u=e("14c3"),f=Math.max,d=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,n,e,a){var x=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=a.REPLACE_KEEPS_$0,_=x?"$":"$0";return[function(e,a){var s=c(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,s,a):n.call(String(s),e,a)},function(t,a){if(!x&&w||"string"===typeof a&&-1===a.indexOf(_)){var i=e(n,t,this,a);if(i.done)return i.value}var c=s(t),h=String(this),p="function"===typeof a;p||(a=String(a));var v=c.global;if(v){var I=c.unicode;c.lastIndex=0}var m=[];while(1){var k=u(c,h);if(null===k)break;if(m.push(k),!v)break;var $=String(k[0]);""===$&&(c.lastIndex=l(h,r(c.lastIndex),I))}for(var S="",C=0,R=0;R<m.length;R++){k=m[R];for(var b=String(k[0]),y=f(d(o(k.index),h.length),0),A=[],O=1;O<k.length;O++)A.push(g(k[O]));var P=k.groups;if(p){var T=[b].concat(A,y,h);void 0!==P&&T.push(P);var U=String(a.apply(void 0,T))}else U=E(b,h,y,A,P,a);y>=C&&(S+=h.slice(C,y)+U,C=y+b.length)}return S+h.slice(C)}];function E(t,e,a,s,r,o){var c=a+t.length,l=s.length,u=v;return void 0!==r&&(r=i(r),u=p),n.call(o,u,(function(n,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(c);case"<":o=r[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var f=h(u/10);return 0===f?n:f<=l?void 0===s[f-1]?i.charAt(1):s[f-1]+i.charAt(1):n}o=s[u-1]}return void 0===o?"":o}))}}))},7467:function(t,n,e){"use strict";var a=e("f97a"),s=e.n(a);s.a},"8aa5":function(t,n,e){"use strict";var a=e("6547").charAt;t.exports=function(t,n,e){return n+(e?a(t,n).length:1)}},9263:function(t,n,e){"use strict";var a=e("ad6d"),s=e("9f7f"),i=RegExp.prototype.exec,r=String.prototype.replace,o=i,c=function(){var t=/a/,n=/b*/g;return i.call(t,"a"),i.call(n,"a"),0!==t.lastIndex||0!==n.lastIndex}(),l=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=c||u||l;f&&(o=function(t){var n,e,s,o,f=this,d=l&&f.sticky,h=a.call(f),p=f.source,v=0,g=t;return d&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),e=new RegExp("^(?:"+p+")",h)),u&&(e=new RegExp("^"+p+"$(?!\\s)",h)),c&&(n=f.lastIndex),s=i.call(d?e:f,g),d?s?(s.input=s.input.slice(v),s[0]=s[0].slice(v),s.index=f.lastIndex,f.lastIndex+=s[0].length):f.lastIndex=0:c&&s&&(f.lastIndex=f.global?s.index+s[0].length:n),u&&s&&s.length>1&&r.call(s[0],e,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s}),t.exports=o},"9f7f":function(t,n,e){"use strict";var a=e("d039");function s(t,n){return RegExp(t,n)}n.UNSUPPORTED_Y=a((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),n.BROKEN_CARET=a((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a2f9:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"w"},[e("div",{staticClass:"header"},[e("span",[e("i",{staticClass:"iconfont iconjiantou2",on:{click:function(n){return t.$router.back()}}}),e("i",{staticClass:"iconfont iconnew"})]),e("span",{staticClass:"follow",class:t.isfollow?"isfollow":"nofollow",on:{click:t.follow}},[t._v(t._s(t.isfollow?"已关注":"关注"))])]),e("div",{staticClass:"news"},[e("div",{staticClass:"title"},[e("h3",[t._v(t._s(t.news.title))]),e("div",[e("span",{staticClass:"author"},[t._v(t._s(t.news.user.nickname))]),e("span",{staticClass:"time"},[t._v(t._s(t.moment(t.news.create_date).format("YYYY-MM-DD")))])])]),e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.news.content)}})]),e("div",{staticClass:"icon"},[e("span",{on:{click:t.like}},[e("van-icon",{class:t.islike?"islike":"",attrs:{name:"good-job-o"}}),t._v(" "+t._s(t.news.like_length)+" ")],1),t._m(0)]),e("reply",{attrs:{newsId:t.newsId,news:t.news,isstar:t.isstar}})],1)},s=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",[e("i",{staticClass:"iconfont icon-weixin"}),t._v("微信 ")])}],i=(e("ac1f"),e("5319"),e("c1df")),r=e.n(i),o=e("2f3e"),c={data:function(){return{isfollow:!1,islike:!1,isstar:!1,news:{user:""},moment:r.a,authorId:"",newsId:""}},mounted:function(){var t=this,n=this.$route.params.id,e=JSON.parse(localStorage.getItem("userInfo"))||"",a=e.token,s={url:"/post/"+n};a&&(s.headers={Authorization:a}),this.$axios(s).then((function(n){t.news=n.data.data,t.news.content=t.news.content.replace(/http:\/\/localhost:3000/gi,t.$axios.defaults.baseURL),t.authorId=n.data.data.user.id,t.newsId=n.data.data.id,t.isfollow=n.data.data.has_follow,t.islike=n.data.data.has_like,t.isstar=n.data.data.has_star}))},methods:{follow:function(){var t=this,n=JSON.parse(localStorage.getItem("userInfo"))||"",e=n.token;this.isfollow?this.$axios({url:"/user_unfollow/"+this.authorId,headers:{Authorization:e}}).then((function(n){t.$toast(n.data.message),t.isfollow=!t.isfollow})):this.$axios({url:"/user_follows/"+this.authorId,headers:{Authorization:e}}).then((function(n){t.$toast(n.data.message),t.isfollow=!t.isfollow}))},like:function(){var t=this,n=JSON.parse(localStorage.getItem("userInfo"))||"",e=n.token;this.$axios({url:"/post_like/"+this.newsId,headers:{Authorization:e}}).then((function(n){t.islike=!t.islike,t.islike?t.news.like_length++:t.news.like_length--}))}},components:{reply:o["a"]}},l=c,u=(e("2410"),e("2877")),f=Object(u["a"])(l,a,s,!1,null,"1df18543",null);n["default"]=f.exports},ac1f:function(t,n,e){"use strict";var a=e("23e7"),s=e("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},d784:function(t,n,e){"use strict";e("ac1f");var a=e("6eeb"),s=e("d039"),i=e("b622"),r=e("9263"),o=e("9112"),c=i("species"),l=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),d=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),h=!s((function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}));t.exports=function(t,n,e,f){var p=i(t),v=!s((function(){var n={};return n[p]=function(){return 7},7!=""[t](n)})),g=v&&!s((function(){var n=!1,e=/a/;return"split"===t&&(e={},e.constructor={},e.constructor[c]=function(){return e},e.flags="",e[p]=/./[p]),e.exec=function(){return n=!0,null},e[p](""),!n}));if(!v||!g||"replace"===t&&(!l||!u||d)||"split"===t&&!h){var x=/./[p],w=e(p,""[t],(function(t,n,e,a,s){return n.exec===r?v&&!s?{done:!0,value:x.call(n,e,a)}:{done:!0,value:t.call(e,n,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),_=w[0],E=w[1];a(String.prototype,t,_),a(RegExp.prototype,p,2==n?function(t,n){return E.call(t,this,n)}:function(t){return E.call(t,this)})}f&&o(RegExp.prototype[p],"sham",!0)}},f97a:function(t,n,e){}}]);
//# sourceMappingURL=chunk-57473afc.8a174aa1.js.map